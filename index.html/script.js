'use strict';

(function (window) {

  //solution de Remy Portier de Fcc
  //function convertToRoman(num) {
  //var nums = num;
  //var result = "";
  //var convey = [];
  //var index = [1,4,5,9,10,40,50,90,100,400,500,900,1000];
  //var romans =['I','IV','V','IX','X','XL','L','XC','C','CD','D','CM','M'];

  //(function iterator() {
  //for (var i = index.length; i >= 0; i--) {
  //if(nums > 0) {
  //if(nums >= index[i]) {
  //result += romans[i];
  //nums -= index[i];
  //iterator();
  //}
  //}
  //}
  //})();
  //return result;
  //}

  convertToRoman(68);

  //num, arrRoman[j].key, arrRoman[j].valeur
  //function oneNumber(num, obj, whichArray) {
  ////loop in the array
  //for (let j = 0; j < obj.length; j++) {
  ////console.log(obj[j].key +' : '+ obj[j].valeur+' : '+j+' : '+num);
  //if (obj[j].key == num) {
  //add = obj[j].valeur
  //}
  //}
  //return result.push(add)
  //}
  function convertToRoman(num) {
    var castStringParam = void 0,
        obj = {},
        add = '',
        result = [],
        arrRomanOne = [{ key: 1, valeur: 'I' }, { key: 2, valeur: 'II' }, { key: 3, valeur: 'III' }, { key: 4, valeur: 'IV' }, { key: 5, valeur: 'V' }, { key: 6, valeur: 'VI' }, { key: 7, valeur: 'VII' }, { key: 8, valeur: 'VIII' }, { key: 9, valeur: 'IX' }],
        arrRomanTwo = [{ key: 1, valeur: 'X' }, { key: 2, valeur: 'XX' }, { key: 3, valeur: 'XXX' }, { key: 4, valeur: 'XL' }, { key: 5, valeur: 'L' }, { key: 6, valeur: 'LX' }, { key: 7, valeur: 'LXX' }, { key: 8, valeur: 'LXXX' }, { key: 9, valeur: 'XC' }],
        arrRomanThree = [{ key: 1, valeur: 'C' }, { key: 2, valeur: 'CC' }, { key: 3, valeur: 'CCC' }, { key: 4, valeur: 'CD' }, { key: 5, valeur: 'D' }, { key: 6, valeur: 'DC' }, { key: 7, valeur: 'DCC' }, { key: 8, valeur: 'DCCC' }, { key: 9, valeur: 'CM' }],
        arrRomanFour = [{ key: 1, valeur: 'M' }, { key: 2, valeur: 'MM' }, { key: 3, valeur: 'MMM' }, { key: 4, valeur: 'MMMM' }, { key: 5, valeur: 'M' }, { key: 6, valeur: 'M' }, { key: 7, valeur: 'M' }, { key: 8, valeur: 'M' }, { key: 9, valeur: 'M' }];
    castStringParam = num.toString();
    castStringParam.split('').reverse().map(function (a, i) {

      //console.log(a, i);
      if (i === 0) {
        //oneNumber(a, arrRomanOne )
        for (var j = 0; j < arrRomanOne.length; j++) {
          //console.log(arrRomanOne[j].key +' : '+ arrRomanOne[j].valeur+' : '+j+' : '+num);
          if (arrRomanOne[j].key == a) {
            add = arrRomanOne[j].valeur;
            return result.push(add);
          }
        }
      } else if (i == 1) {
        //oneNumber(a, arrRomanTwo)
        for (var _j = 0; _j < arrRomanTwo.length; _j++) {
          //console.log(arrRomanTwo[j].key +' : '+ arrRomanTwo[j].valeur+' : '+j+' : '+a);
          if (arrRomanTwo[_j].key == a) {
            add = arrRomanTwo[_j].valeur;
            return result.push(add);
          }
        }
      } else if (i == 2) {
        //oneNumber(a, arrRomanThree )
        for (var _j2 = 0; _j2 < arrRomanThree.length; _j2++) {
          //console.log(arrRomanThree[j].key +' : '+ arrRomanThree[j].valeur+' : '+j+' : '+a);
          //console.log(a , i,j);
          if (arrRomanThree[_j2].key == a) {
            add = arrRomanThree[_j2].valeur;
            return result.push(add);
          }
        }
      } else if (i == 3) {
        //oneNumber(a, arrRomanFour )
        for (var _j3 = 0; _j3 < arrRomanFour.length; _j3++) {
          //console.log(arrRomanThree[j].key +' : '+ arrRomanThree[j].valeur+' : '+j+' : '+a);
          //console.log(a , i,j);
          if (arrRomanFour[_j3].key == a) {
            add = arrRomanFour[_j3].valeur;
            return result.push(add);
          }
        }
      }
    });
    //console.log(result = result.reverse().join(''));
    result = result.reverse().join('').toString();
    //console.log(typeof result);
    console.log(result);
    return result;
  }
  convertToRoman(649);
})(window);
//# sourceMappingURL=Roman-Numeral-Converter.js.map
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJ3aW5kb3ciLCJjb252ZXJ0VG9Sb21hbiIsIm51bSIsImNhc3RTdHJpbmdQYXJhbSIsIm9iaiIsImFkZCIsInJlc3VsdCIsImFyclJvbWFuT25lIiwia2V5IiwidmFsZXVyIiwiYXJyUm9tYW5Ud28iLCJhcnJSb21hblRocmVlIiwiYXJyUm9tYW5Gb3VyIiwidG9TdHJpbmciLCJzcGxpdCIsInJldmVyc2UiLCJtYXAiLCJhIiwiaSIsImoiLCJsZW5ndGgiLCJwdXNoIiwiam9pbiIsImNvbnNvbGUiLCJsb2ciXSwibWFwcGluZ3MiOiI7O0FBQUEsQ0FBQyxVQUFVQSxNQUFWLEVBQWtCOztBQUVqQjtBQUNGO0FBQ0M7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFRDtBQUNJO0FBQ0k7QUFDSTtBQUNJO0FBQ0E7QUFDQTtBQUNKO0FBQ0o7QUFDSjtBQUNKO0FBQ0E7QUFDQTs7QUFFQUMsaUJBQWUsRUFBZjs7QUFFRTtBQUNBO0FBQ0U7QUFDQTtBQUNFO0FBQ0E7QUFDRTtBQUNGO0FBQ0Y7QUFDQTtBQUNGO0FBQ0EsV0FBU0EsY0FBVCxDQUF3QkMsR0FBeEIsRUFBNkI7QUFDM0IsUUFBSUMsd0JBQUo7QUFBQSxRQUNFQyxNQUFNLEVBRFI7QUFBQSxRQUVFQyxNQUFNLEVBRlI7QUFBQSxRQUdFQyxTQUFPLEVBSFQ7QUFBQSxRQUlFQyxjQUFhLENBQ1gsRUFBQ0MsS0FBSyxDQUFOLEVBQWFDLFFBQVEsR0FBckIsRUFEVyxFQUVYLEVBQUNELEtBQUssQ0FBTixFQUFhQyxRQUFRLElBQXJCLEVBRlcsRUFHWCxFQUFDRCxLQUFLLENBQU4sRUFBYUMsUUFBUSxLQUFyQixFQUhXLEVBSVgsRUFBQ0QsS0FBSyxDQUFOLEVBQWFDLFFBQVEsSUFBckIsRUFKVyxFQUtYLEVBQUNELEtBQUssQ0FBTixFQUFhQyxRQUFRLEdBQXJCLEVBTFcsRUFNWCxFQUFDRCxLQUFLLENBQU4sRUFBYUMsUUFBUSxJQUFyQixFQU5XLEVBT1gsRUFBQ0QsS0FB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IiwiZmlsZSI6InNjcmlwdC5qcyIsInNvdXJjZXNDb250ZW50IjpbIihmdW5jdGlvbiAod2luZG93KSB7XG5cbiAgLy9zb2x1dGlvbiBkZSBSZW15IFBvcnRpZXIgZGUgRmNjXG4vL2Z1bmN0aW9uIGNvbnZlcnRUb1JvbWFuKG51bSkge1xuIC8vdmFyIG51bXMgPSBudW07XG4gLy92YXIgcmVzdWx0ID0gXCJcIjtcbiAvL3ZhciBjb252ZXkgPSBbXTtcbiAvL3ZhciBpbmRleCA9IFsxLDQsNSw5LDEwLDQwLDUwLDkwLDEwMCw0MDAsNTAwLDkwMCwxMDAwXTtcbiAvL3ZhciByb21hbnMgPVsnSScsJ0lWJywnVicsJ0lYJywnWCcsJ1hMJywnTCcsJ1hDJywnQycsJ0NEJywnRCcsJ0NNJywnTSddO1xuXG4vLyhmdW5jdGlvbiBpdGVyYXRvcigpIHtcbiAgICAvL2ZvciAodmFyIGkgPSBpbmRleC5sZW5ndGg7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIC8vaWYobnVtcyA+IDApIHtcbiAgICAgICAgICAgIC8vaWYobnVtcyA+PSBpbmRleFtpXSkge1xuICAgICAgICAgICAgICAgIC8vcmVzdWx0ICs9IHJvbWFuc1tpXTtcbiAgICAgICAgICAgICAgICAvL251bXMgLT0gaW5kZXhbaV07XG4gICAgICAgICAgICAgICAgLy9pdGVyYXRvcigpO1xuICAgICAgICAgICAgLy99XG4gICAgICAgIC8vfVxuICAgIC8vfVxuLy99KSgpO1xuLy9yZXR1cm4gcmVzdWx0O1xuLy99XG5cbmNvbnZlcnRUb1JvbWFuKDY4KTtcblxuICAvL251bSwgYXJyUm9tYW5bal0ua2V5LCBhcnJSb21hbltqXS52YWxldXJcbiAgLy9mdW5jdGlvbiBvbmVOdW1iZXIobnVtLCBvYmosIHdoaWNoQXJyYXkpIHtcbiAgICAvLy8vbG9vcCBpbiB0aGUgYXJyYXlcbiAgICAvL2ZvciAobGV0IGogPSAwOyBqIDwgb2JqLmxlbmd0aDsgaisrKSB7XG4gICAgICAvLy8vY29uc29sZS5sb2cob2JqW2pdLmtleSArJyA6ICcrIG9ialtqXS52YWxldXIrJyA6ICcraisnIDogJytudW0pO1xuICAgICAgLy9pZiAob2JqW2pdLmtleSA9PSBudW0pIHtcbiAgICAgICAgLy9hZGQgPSBvYmpbal0udmFsZXVyXG4gICAgICAvL31cbiAgICAvL31cbiAgICAvL3JldHVybiByZXN1bHQucHVzaChhZGQpXG4gIC8vfVxuICBmdW5jdGlvbiBjb252ZXJ0VG9Sb21hbihudW0pIHtcbiAgICBsZXQgY2FzdFN0cmluZ1BhcmFtLFxuICAgICAgb2JqID0ge30sXG4gICAgICBhZGQgPSAnJyxcbiAgICAgIHJlc3VsdD1bXSxcbiAgICAgIGFyclJvbWFuT25lID1bIFxuICAgICAgICB7a2V5OiAxLCAgICAgdmFsZXVyOiAnSSd9LFxuICAgICAgICB7a2V5OiAyLCAgICAgdmFsZXVyOiAnSUknfSxcbiAgICAgICAge2tleTogMywgICAgIHZhbGV1cjogJ0lJSSd9LFxuICAgICAgICB7a2V5OiA0LCAgICAgdmFsZXVyOiAnSVYnfSxcbiAgICAgICAge2tleTogNSwgICAgIHZhbGV1cjogJ1YnfSxcbiAgICAgICAge2tleTogNiwgICAgIHZhbGV1cjogJ1ZJJ30sXG4gICAgICAgIHtrZXk6IDcsICAgICB2YWxldXI6ICdWSUknfSxcbiAgICAgICAge2tleTogOCwgICAgIHZhbGV1cjogJ1ZJSUknfSxcbiAgICAgICAge2tleTogOSwgICAgIHZhbGV1cjogJ0lYJ31cbiAgICAgIF0sXG4gICAgICBhcnJSb21hblR3byA9WyBcbiAgICAgICAge2tleTogMSwgICAgdmFsZXVyOiAnWCd9LFxuICAgICAgICB7a2V5OiAyLCAgICB2YWxldXI6ICdYWCd9LFxuICAgICAgICB7a2V5OiAzLCAgICB2YWxldXI6ICdYWFgnfSxcbiAgICAgICAge2tleTogNCwgICAgdmFsZXVyOiAnWEwnfSxcbiAgICAgICAge2tleTogNSwgICAgdmFsZXVyOiAnTCd9LFxuICAgICAgICB7a2V5OiA2LCAgICB2YWxldXI6ICdMWCd9LFxuICAgICAgICB7a2V5OiA3LCAgICB2YWxldXI6ICdMWFgnfSxcbiAgICAgICAge2tleTogOCwgICAgdmFsZXVyOiAnTFhYWCd9LFxuICAgICAgICB7a2V5OiA5LCAgICB2YWxldXI6ICdYQyd9XG4gICAgICBdLFxuICAgICAgYXJyUm9tYW5UaHJlZSA9WyBcbiAgICAgICAge2tleTogMSwgICB2YWxldXI6ICdDJ30sXG4gICAgICAgIHtrZXk6IDIsICAgdmFsZXVyOiAnQ0MnfSxcbiAgICAgICAge2tleTogMywgICB2YWxldXI6ICdDQ0MnfSxcbiAgICAgICAge2tleTogNCwgICB2YWxldXI6ICdDRCd9LFxuICAgICAgICB7a2V5OiA1LCAgIHZhbGV1cjogJ0QnfSxcbiAgICAgICAge2tleTogNiwgICB2YWxldXI6ICdEQyd9LFxuICAgICAgICB7a2V5OiA3LCAgIHZhbGV1cjogJ0RDQyd9LFxuICAgICAgICB7a2V5OiA4LCAgIHZhbGV1cjogJ0RDQ0MnfSxcbiAgICAgICAge2tleTogOSwgICB2YWxldXI6ICdDTSd9LFxuICAgICAgXSxcbiAgICAgIGFyclJvbWFuRm91ciA9WyBcbiAgICAgICAge2tleTogMSwgIHZhbGV1cjogJ00nfSxcbiAgICAgICAge2tleTogMiwgIHZhbGV1cjogJ01NJ30sXG4gICAgICAgIHtrZXk6IDMsICB2YWxldXI6ICdNTU0nfSxcbiAgICAgICAge2tleTogNCwgIHZhbGV1cjogJ01NTU0nfSxcbiAgICAgICAge2tleTogNSwgIHZhbGV1cjogJ00nfSxcbiAgICAgICAge2tleTogNiwgIHZhbGV1cjogJ00nfSxcbiAgICAgICAge2tleTogNywgIHZhbGV1cjogJ00nfSxcbiAgICAgICAge2tleTogOCwgIHZhbGV1cjogJ00nfSxcbiAgICAgICAge2tleTogOSwgIHZhbGV1cjogJ00nfVxuICAgICAgXTtcbiAgICBjYXN0U3RyaW5nUGFyYW0gPSBudW0udG9TdHJpbmcoKTtcbiAgICBjYXN0U3RyaW5nUGFyYW0uc3BsaXQoJycpLnJldmVyc2UoKS5tYXAoIChhLCBpKSA9PiB7XG5cbiAgICAgIC8vY29uc29sZS5sb2coYSwgaSk7XG4gICAgICBpZiAoaSA9PT0wKSB7XG4gICAgICAgIC8vb25lTnVtYmVyKGEsIGFyclJvbWFuT25lIClcbiAgICAgICAgZm9yIChsZXQgaiA9IDA7IGogPCBhcnJSb21hbk9uZS5sZW5ndGg7IGorKykge1xuICAgICAgICAgIC8vY29uc29sZS5sb2coYXJyUm9tYW5PbmVbal0ua2V5ICsnIDogJysgYXJyUm9tYW5PbmVbal0udmFsZXVyKycgOiAnK2orJyA6ICcrbnVtKTtcbiAgICAgICAgICBpZiAoYXJyUm9tYW5PbmVbal0ua2V5ID09IGEpIHtcbiAgICAgICAgICAgIGFkZCA9IGFyclJvbWFuT25lW2pdLnZhbGV1clxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5wdXNoKGFkZClcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1lbHNlIGlmKGkgPT0gMSl7XG4gICAgICAgIC8vb25lTnVtYmVyKGEsIGFyclJvbWFuVHdvKVxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGFyclJvbWFuVHdvLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgLy9jb25zb2xlLmxvZyhhcnJSb21hblR3b1tqXS5rZXkgKycgOiAnKyBhcnJSb21hblR3b1tqXS52YWxldXIrJyA6ICcraisnIDogJythKTtcbiAgICAgICAgICBpZiAoYXJyUm9tYW5Ud29bal0ua2V5ID09IGEpIHtcbiAgICAgICAgICAgIGFkZCA9IGFyclJvbWFuVHdvW2pdLnZhbGV1clxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5wdXNoKGFkZClcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1lbHNlIGlmKGkgPT0gMil7XG4gICAgICAgIC8vb25lTnVtYmVyKGEsIGFyclJvbWFuVGhyZWUgKVxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGFyclJvbWFuVGhyZWUubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAvL2NvbnNvbGUubG9nKGFyclJvbWFuVGhyZWVbal0ua2V5ICsnIDogJysgYXJyUm9tYW5UaHJlZVtqXS52YWxldXIrJyA6ICcraisnIDogJythKTtcbiAgICAgICAgICAvL2NvbnNvbGUubG9nKGEgLCBpLGopO1xuICAgICAgICAgIGlmIChhcnJSb21hblRocmVlW2pdLmtleSA9PSBhKSB7XG4gICAgICAgICAgICBhZGQgPSBhcnJSb21hblRocmVlW2pdLnZhbGV1clxuICAgICAgICAgICAgcmV0dXJuIHJlc3VsdC5wdXNoKGFkZClcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1lbHNlIGlmKGkgPT0gMyl7XG4gICAgICAgIC8vb25lTnVtYmVyKGEsIGFyclJvbWFuRm91ciApXG4gICAgICAgIGZvciAobGV0IGogPSAwOyBqIDwgYXJyUm9tYW5Gb3VyLmxlbmd0aDsgaisrKSB7XG4gICAgICAgICAgLy9jb25zb2xlLmxvZyhhcnJSb21hblRocmVlW2pdLmtleSArJyA6ICcrIGFyclJvbWFuVGhyZWVbal0udmFsZXVyKycgOiAnK2orJyA6ICcrYSk7XG4gICAgICAgICAgLy9jb25zb2xlLmxvZyhhICwgaSxqKTtcbiAgICAgICAgICBpZiAoYXJyUm9tYW5Gb3VyW2pdLmtleSA9PSBhKSB7XG4gICAgICAgICAgICBhZGQgPSBhcnJSb21hbkZvdXJbal0udmFsZXVyXG4gICAgICAgICAgICByZXR1cm4gcmVzdWx0LnB1c2goYWRkKVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pXG4gICAgLy9jb25zb2xlLmxvZyhyZXN1bHQgPSByZXN1bHQucmV2ZXJzZSgpLmpvaW4oJycpKTtcbiAgICByZXN1bHQgPSByZXN1bHQucmV2ZXJzZSgpLmpvaW4oJycpLnRvU3RyaW5nKCk7XG4gICAgLy9jb25zb2xlLmxvZyh0eXBlb2YgcmVzdWx0KTtcbiAgICBjb25zb2xlLmxvZyhyZXN1bHQpO1xuICAgIHJldHVybiByZXN1bHQ7XG4gIH1cbiAgY29udmVydFRvUm9tYW4oNjQ5KTtcblxufSkod2luZG93KTtcbi8vIyBzb3VyY2VNYXBwaW5nVVJMPVJvbWFuLU51bWVyYWwtQ29udmVydGVyLmpzLm1hcFxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
